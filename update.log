cd /home/jh7x3/multicom_v1.1


## download uniref90
mkdir /data/commons/MULTICOM_db_tools/databases_new/uniref
cd /data/commons/MULTICOM_db_tools/databases_new/uniref
wget ftp://ftp.uniprot.org/pub/databases/uniprot/uniref/uniref90/uniref90.fasta.gz
gzip -d uniref90.fasta.gz
/home/jh7x3/multicom_v1.1/tools/blast-2.2.25/bin/formatdb -i uniref90.fasta -o T -t uniref90 -n uniref90




## download uniref50

mkdir /data/commons/MULTICOM_db_tools/databases_new/uniref
cd /data/commons/MULTICOM_db_tools/databases_new/uniref
wget ftp://ftp.uniprot.org/pub/databases/uniprot/uniref/uniref50/uniref50.fasta.gz
gzip -d uniref50.fasta.gz
/home/jh7x3/multicom_v1.1/tools/blast-2.2.25/bin/formatdb -i uniref50.fasta -o T -t uniref50 -n uniref50



## download uniclust30

#http://wwwuser.gwdg.de/~compbiol/uniclust/ 
cd /data/commons/MULTICOM_db_tools/databases_new/uniprot30
wget http://wwwuser.gwdg.de/~compbiol/uniclust/2017_10/uniclust30_2017_10_hhsuite.tar.gz
tar -zxf uniclust30_2017_10_hhsuite.tar.gz
rm uniclust30_2017_10_hhsuite.tar.gz

## download uniclust20
#http://wwwuser.gwdg.de/~compbiol/data/hhsuite/databases/hhsuite_dbs/old-releases/
cd /data/commons/MULTICOM_db_tools/databases_new/uniprot20
wget http://wwwuser.gwdg.de/~compbiol/data/hhsuite/databases/hhsuite_dbs/old-releases/uniprot20_2016_02.tgz
tar -xf uniprot20_2016_02.tgz
rm uniprot20_2016_02.tgz


## download pdb70 for hhpred
/data/commons/MULTICOM_db_tools/databases/hhpred_dbs/update_db/update_pdb70.sh 

cd /data/commons/MULTICOM_db_tools_v1.1/databases/hhpred_dbs/update_db/pdb70
rm pdb70_a3m_db
ln -s pdb70_a3m_db pdb70_a3m.ffdata
ln -s pdb70_hhm_db pdb70_hhm_db.ffdata


cd databases/uniprot20/uniprot20_2016_02
rm uniprot20_2016_02_a3m_db
ln -s uniprot20_2016_02_a3m_db -> uniprot20_2016_02_a3m.ffdata





### filter uniref90 to uniref70
### filter uniref50 to uniref20

cd /storage/htc/bdm/jh7x3/multicom_github/multicom
cd /storage/htc/bdm/jh7x3/multicom_github/multicom/databases_new
scp -i ~/.ssh/id_rsa_for_lewis uniref50.fasta   jh7x3@lewis.rnet.missouri.edu:/storage/htc/bdm/jh7x3/multicom_github/multicom/databases_new
scp -i ~/.ssh/id_rsa_for_lewis uniref90.fasta   jh7x3@lewis.rnet.missouri.edu:/storage/htc/bdm/jh7x3/multicom_github/multicom/databases_new

sbatch NR20_gpu.sh
sbatch NR70_gpu.sh

/data/commons/MULTICOM_db_tools/databases_new

mkdir nr_latest
mkdir nr70_90





### download basic database
cp -ar atom.tar.gz  big.tar.gz cm_lib.tar.gz  fr_lib.tar.gz  casp7_hhsearchdb.tar.gz compass_db.tar.gz ffas_dbs.tar.gz fr_lib.tar.gz  library.tar.gz prc_db.tar.gz seq.tar.gz /data/commons/MULTICOM_db_tools_v1.1/databases/
 
cp -ar hhsearch1.5_db.tar.gz  /data/commons/MULTICOM_db_tools_v1.1/databases/
cp -ar compass_db.tar.gz  /data/commons/MULTICOM_db_tools_v1.1/databases/
cp  hhpred_dbs.tar.gz  /data/commons/MULTICOM_db_tools_v1.1/databases/


## compass's option need casp7_hhsearchdb, should it be removed?



cd /data/commons/MULTICOM_db_tools_v1.1/tools
wget https://mmseqs.com/latest/mmseqs-static_avx2.tar.gz; tar xvfz mmseqs-static_avx2.tar.gz;
cd mmseqs2
export PATH=/data/commons/MULTICOM_db_tools_v1.1/tools/mmseqs2/bin/:$PATH


/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_ss1.pdb  installation/benchmark/T1006.pdb

## hhsearch
./bin/P1-run-hhsearch.sh T1006 /home/jh7x3/multicom_v1.1/examples/T1006.fasta /home/jh7x3/multicom_v1.1/test_out/T1006_hhsearch
./bin/P1-run-hhsearch_hard.sh T1006 /home/jh7x3/multicom_v1.1/examples/T1006.fasta /home/jh7x3/multicom_v1.1/test_out/T1006_hhsearch_hard
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_hhsearch/T1006.pdb  installation/benchmark/T1006/meta_hh1.pdb

/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_hh1.pdb  installation/benchmark/T1006.pdb   -> 0.6753 
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_hhsearch/T1006.pdb  installation/benchmark/T1006.pdb   -> 0.6816
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_hhsearch_hard/T1006.pdb  installation/benchmark/T1006.pdb  -> 0.6816


## hhsearch15
./bin/P2-run-hhsearch15.sh T1006 /home/jh7x3/multicom_v1.1/examples/T1006.fasta /home/jh7x3/multicom_v1.1/test_out/T1006_hhsearch15
./bin/P2-run-hhsearch15-hard.sh T1006 /home/jh7x3/multicom_v1.1/examples/T1006.fasta /home/jh7x3/multicom_v1.1/test_out/T1006_hhsearch15_hard

/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_ss1.pdb  installation/benchmark/T1006.pdb   -> 0.72
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_hhsearch15/T1006.pdb  installation/benchmark/T1006.pdb   -> 0.7016
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_hhsearch15_hard/T1006.pdb  installation/benchmark/T1006.pdb  -> 0.7016

## hhsearch151
./bin/P3-run-hhsearch151.sh T1006 /home/jh7x3/multicom_v1.1/examples/T1006.fasta /home/jh7x3/multicom_v1.1/test_out/T1006_hhsearch151
./bin/P3-run-hhsearch151-hard.sh T1006 /home/jh7x3/multicom_v1.1/examples/T1006.fasta /home/jh7x3/multicom_v1.1/test_out/T1006_hhsearch151_hard

/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_hg1.pdb  installation/benchmark/T1006.pdb   -> 0.7276
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_hhsearch151/T1006.pdb  installation/benchmark/T1006.pdb   -> 0.7028
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_hhsearch151_hard/T1006.pdb  installation/benchmark/T1006.pdb  -> 0.6992

## hhpred
./bin/P22-run-hhpred.sh T1006 /home/jh7x3/multicom_v1.1/examples/T1006.fasta /home/jh7x3/multicom_v1.1/test_out/T1006_hhpred
./bin/P22-run-hhpred-hard.sh T1006 /home/jh7x3/multicom_v1.1/examples/T1006.fasta /home/jh7x3/multicom_v1.1/test_out/T1006_hhpred_hard

/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_hp1.pdb  installation/benchmark/T1006.pdb   -> 0.5861
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_hhpred/T1006.pdb  installation/benchmark/T1006.pdb   -> 0.5870
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_hhpred_hard/T1006.pdb  installation/benchmark/T1006.pdb  -> 0.5870

## hhsuite
./bin/P11-run-hhsuite.sh T1006 /home/jh7x3/multicom_v1.1/examples/T1006.fasta /home/jh7x3/multicom_v1.1/test_out/T1006_hhsuite

/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_hhsuite1.pdb  installation/benchmark/T1006.pdb   --> 0.6166
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_hhsuite/T1006.pdb  installation/benchmark/T1006.pdb  --> 0.6184


## hmmer
./bin/P18-run-hmmer.sh T1006 /home/jh7x3/multicom_v1.1/examples/T1006.fasta /home/jh7x3/multicom_v1.1/test_out/T1006_hmmer

/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_hmmer1.pdb  installation/benchmark/T1006.pdb   ---> 0.6810 
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_hmmer/T1006.pdb  installation/benchmark/T1006.pdb   ---> 0.6656


## hmmer3
/home/jh7x3/multicom_v1.1//bin/P19-run-hmmer3.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_hmmer3

/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_jackhmmer1.pdb  installation/benchmark/T1006.pdb   -> 0.7404
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_hmmer3/T1006.pdb  installation/benchmark/T1006.pdb    --> 0.7060


## hhblits
/home/jh7x3/multicom_v1.1//bin/P23-run-hhblits.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_hhblits

/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_blits1.pdb  installation/benchmark/T1006.pdb   --> 0.5915
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_hhblits/T1006.pdb  installation/benchmark/T1006.pdb    --> 0.5965


## hhblits3
/home/jh7x3/multicom_v1.1//bin/P24-run-hhblits3.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_hhblits3

/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_hhbl2.pdb  installation/benchmark/T1006.pdb  ---> 0.6282
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_hhblits3/T1006.pdb  installation/benchmark/T1006.pdb   ---> 0.6301


## ffas
/home/jh7x3/multicom_v1.1//bin/P26-run-ffas.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_ffas

/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_ff1.pdb  installation/benchmark/T1006.pdb   --> 0.6876
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_ffas/T1006.pdb  installation/benchmark/T1006.pdb    --> 0.6815

## compass
/home/jh7x3/multicom_v1.1//bin/P15-run-compass.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_compass
/home/jh7x3/multicom_v1.1//bin/P15-run-compass-hard.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_compass_hard

/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_com1.pdb  installation/benchmark/T1006.pdb  --> 0.6849
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_compass/T1006.pdb  installation/benchmark/T1006.pdb  --> 0.6868
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_compass_hard/T1006.pdb  installation/benchmark/T1006.pdb   --> 0.6868

## blast
/home/jh7x3/multicom_v1.1//bin/P13-run-blast.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_blast

/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_hs1.pdb  installation/benchmark/T1006.pdb  --> 0.6692
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_blast/T1006.pdb  installation/benchmark/T1006.pdb   --> 0.6763

## newblast
/home/jh7x3/multicom_v1.1//bin/P21-run-newblast.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_newblast

/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_newblast1.pdb  installation/benchmark/T1006.pdb  --> 0.1570
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_newblast/T1006.pdb  installation/benchmark/T1006.pdb   --> 0.1418

## csblast
/home/jh7x3/multicom_v1.1//bin/P10-run-csblast.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_csblast

/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_csblast1.pdb  installation/benchmark/T1006.pdb   --> 0.4693
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_csblast/T1006.pdb  installation/benchmark/T1006.pdb    --> 0.4622

## csiblast
/home/jh7x3/multicom_v1.1//bin/P12-run-csiblast.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_csiblast
/home/jh7x3/multicom_v1.1//bin/P12-run-csiblast-hard.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_csiblast_hard

/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_csiblast1.pdb  installation/benchmark/T1006.pdb --->  0.7015
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_csiblast/T1006.pdb  installation/benchmark/T1006.pdb  --> 0.6900
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_csiblast_hard/T1006.pdb  installation/benchmark/T1006.pdb  --> 0.6900

## psiblast
/home/jh7x3/multicom_v1.1//bin/P14-run-psiblast.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_psiblast
/home/jh7x3/multicom_v1.1//bin/P14-run-psiblast-hard.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_psiblast_hard

/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_psiblast1.pdb  installation/benchmark/T1006.pdb  -> 0.7908
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_psiblast/T1006.pdb  installation/benchmark/T1006.pdb   --> 0.7604
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_psiblast_hard/T1006.pdb  installation/benchmark/T1006.pdb   ---> 0.7604

## sam
/home/jh7x3/multicom_v1.1//bin/P16-run-sam.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_sam
/home/jh7x3/multicom_v1.1//bin/P16-run-sam-hard.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_sam_hard

/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_sam1.pdb  installation/benchmark/T1006.pdb  --> 0.6875
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_sam/T1006.pdb  installation/benchmark/T1006.pdb   --> 0.6927
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_sam_hard/T1006.pdb  installation/benchmark/T1006.pdb   --> 0.6925


## prc 
/home/jh7x3/multicom_v1.1//bin/P17-run-prc.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_prc
/home/jh7x3/multicom_v1.1//bin/P17-run-prc-hard.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_prc_hard

/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_prc1.pdb  installation/benchmark/T1006.pdb  --> 0.6935
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_prc/T1006.pdb  installation/benchmark/T1006.pdb   --> 0.6959
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_prc_hard/T1006.pdb  installation/benchmark/T1006.pdb   --> 0.6959 


## dncon2

/home/jh7x3/multicom_v1.1//bin/P4-run-dncon2.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_dncon2

## raptorx

/home/jh7x3/multicom_v1.1//bin/P20-run-raptorx.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_raptorx
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_rapt1.pdb  installation/benchmark/T1006.pdb  ---> 0.7056
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_raptorx/T1006.pdb  installation/benchmark/T1006.pdb   --> 0.7034


## muster

/home/jh7x3/multicom_v1.1//bin/P25-run-muster.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_muster

/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore installation/benchmark/T1006/meta_muster1.pdb  installation/benchmark/T1006.pdb  --> 0.7009
/data/commons/MULTICOM_db_tools_v1.1/tools/tm_score2/TMscore test_out/T1006_muster/T1006.pdb  installation/benchmark/T1006.pdb   --> 0.7031

## confold

/home/jh7x3/multicom_v1.1//bin/P27-run-confold.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_confold

## rosetacon
/home/jh7x3/multicom_v1.1//bin/P30-run-rosettacon.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_rosettacon


## rosetta
 /home/jh7x3/multicom_v1.1//bin/P29-run-rosetta.sh T1006 /home/jh7x3/multicom_v1.1//examples/T1006.fasta /home/jh7x3/multicom_v1.1//test_out/T1006_rosetta


# deepsf
/home/jh7x3/multicom_beta1.0//bin/P31-run-deepsf.sh T1006 /home/jh7x3/multicom_beta1.0//examples/T1006.fasta /home/jh7x3/multicom_beta1.0//test_out/T1006_deepsf

# unicon3d
/home/jh7x3/multicom_beta1.0//bin/P28-run-unicon3d.sh T1006 /home/jh7x3/multicom_beta1.0//examples/T1006.fasta /home/jh7x3/multicom_beta1.0//test_out/T1006_unicon3d






